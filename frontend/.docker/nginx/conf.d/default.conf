client_max_body_size 20M;

# Resolver para DNS dinâmico (usando o DNS interno do Docker)
# 127.0.0.11 é o DNS resolver embutido do Docker
# Isso permite que o nginx resolva hostnames dinamicamente sem falhar na inicialização
resolver 127.0.0.11 valid=10s ipv6=off;

server {
    index index.html;
    root /var/www/public/;
    server_name _;

    include sites.d/frontend.conf;
    include include.d/letsencrypt.conf;
}